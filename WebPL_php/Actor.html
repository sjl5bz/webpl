<!DOCTYPE html>
<html ng-app="MovieApp">
<head>
	<meta author="Rice Tyler : rht6nf">
	<meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="http://cdnjs.cloudflare.com/ajax/libs/angular.js/1.2.20/angular.min.js"></script>

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/rateYo/2.3.2/jquery.rateyo.min.css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/rateYo/2.3.2/jquery.rateyo.min.js"></script>
	
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <link rel="stylesheet" type="text/css" href="css/style.css">
    
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.16/angular.min.js"></script>
</head>
<body>
	<nav class="navbar navbar-dark" id="bootstrap" >
		<div class="container-fluid" style="background-color: black">
			<div class="row">
				<div class="navbar-header">
					<div class="navbar-brand"> <a href="homepage.html" style="color:gold; text-decoration:none;">The Movie Rater</a></div>
				</div>
				<ul class="nav navbar-nav">
					<li><a href="homepage.html">Home</a></li>
					<li><a href="Template.html">Search</a></li>
				</ul>
			</div>
		</div>
	</nav>
	<div class="card card-outline-primary mb-3 text-center" style="height:450px; border-bottom-color:gold;">
	  <div class="card-block">
	  	<div class="row">
		    <div class="col-lg-4">
		    	<img class="img-responsive rounded float-center" src="images/Poster.jpg" style="width: 75%">
		    </div>
		    <div class="col-lg-8 text-left">
		    	<h2>Actor McActypants</h2>
		    	07/23/1966 - 09/25/2017 <br>
		    	New York, NY, US <br>
		    	<div class="card card-outline-primary mb-3 text-center">
	  				<div class="card-block">
		    			<blockquote>blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah</blockquote>
		    		</div>
	    		</div>
		    </div>
		</div>
	  </div>
	</div>
	<div class="card card-outline-primary mb-3 text-center">
	  <div class="card-block">
	  	<div class="row">
	  		<div class="col-lg-4 text-left">
		    	<h3>Filmography</h3>
	    	</div>	
    	</div>
    	<div><hr></div>
    	<div class="row">
    		<div class="col-lg-2 text-left">
    			<h4><a href="http://localhost:8080/WebPL/src/Project.java">Hamlet</a></h4>
    			Hamlet <br>
    		</div>
    		<div class="col-lg-8 text-left">
    			<p>Notes:</p>
    			This is a great movie </br>
    		</div>
    		<div class ="col-lg-2 text-right">
    		1994 <br>
    		</div>
    	</div>
    	<div><hr></div>
    	<div class="row">
    		<div class="col-lg-2 text-left">
    			<h4><a href="http://localhost:8080/WebPL/Project">King Kong</a></h4>
    			Jim <br>
    		</div>
    		<div class ="col-lg-6 text-right">
    		1994 <br>
    		</div>
    	</div>
	  </div>
	</div>
	<div class="card card-outline-primary mb-3 text-center" ng-controller="myCtrl">
		<div class="card-block">
			<div class="row">
		  		<div class="col-lg-4 text-left">
			    	<h3>Comments</h3>
		    	</div>	
	    	</div>
	    	<div><hr></div>
  			<div class="row" ng-repeat-start="comment in comments">
  				<div class="col-lg-4 text-left">
	    			<h4><a href="#">{{ comment.user }}</a></h4>
	    		</div>
	    		<div class="col-lg-8 text-left">
	    			<p>{{ comment.title }}</p>
	    			{{ comment.text }} </br>
	    		</div>
	    		
  			</div>
  			<div ng-repeat-end><hr></div>
  			
  			
  			<form class="float-left" >
	  			Username:<input type="text" id="username" name="username" ng-model="username" style="background-color:black; border-radius:4px; border-color:gold; color:gold;"></br>
	  			Title:<input type="text" id="title" name="title" ng-model="title" style="background-color:black; border-radius:4px; border-color:gold; color:gold;"></br>
	  			Text:<textarea rows='5' cols='40' id='text' name='text' ng-model="text"></textarea> <br/>
	  			<button ng-click="submit()">Submit</button>
	  			{{promise}}
  			</form>
		</div>
	</div>


</body>

<script>
	var MovieApp = angular.module('MovieApp', []);
	MovieApp.controller("myCtrl" ,function($scope, $http){

		$http.get('data/posts.json').
	    success(function(data, status, headers, config) {
	      $scope.comments = data;
	    }).
	    error(function(data, status, headers, config) {
	      // log error
	    });
		
		$scope.comments = [
			{user :"hello", title :"this is a title", text:'THis is ome great text'},
			{user :"hello", title :"this is a title", text:'THis is ome great text'}
			];

		var onSuccess = function (data, status, headers, config) 
         {
            $scope.comments = data;
         };

         var onError = function (data, status, headers, config) 
         {
            $scope.error = status;
            $scope.comments = [
			{user :"hello", title :"this is a title", text:'THis is ome great text'},
			{user :"hello", title :"this is a title", text:'THis is ome great text'}
			];

         };
		
		$scope.getComments = function(){
			var promise = $http.get("http://localhost/WebPL_php/comments.php");
			promise.success(onSuccess);
            promise.error(onError); 
		};
		
		$scope.submit = function(){
			var temp = {user : $scope.username, title : $scope.title, text : $scope.text};
			$scope.comments.push(temp);
		};
		$scope.getComments();
		
		});

</script>


</html>